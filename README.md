# רמיקוב - משחק הקלפים המותאם לנייד

## פרטי הפרויקט
- **שם**: רמיקוב (Rummikub Game)
- **מטרה**: משחק רמיקוב מלא עם מולטיפלייר בזמן אמת, בוטים חכמים ותמיכה בעברית
- **תכונות עיקריות**: 
  - משחק נייד עם אוריינטציה אופקית
  - רמי 31 ורמי אנט עם חוקים מלאים
  - מולטיפלייר בזמן אמת עם WebSocket
  - בוטים עם בינה מלאכותית
  - מערכת ניהול משתמשים ואישורים
  - תמיכה ב-RTL עברית ואנגלית

## כתובות גישה
- **אתר הפקה**: https://3000-ij3kfchlbzihnxcnjq2ub-6532622b.e2b.dev/
- **API**: https://3000-ij3kfchlbzihnxcnjq2ub-6532622b.e2b.dev/api
- **GitHub**: [יוגדר לאחר ההעלאה]

## ארכיטקטורת המידע
### מודלי נתונים
- **users**: משתמשים עם אישורים ונקודות
- **game_rooms**: חדרי משחק פרטיים וציבוריים
- **room_players**: שחקנים בחדרים (כולל בוטים)
- **game_states**: מצב המשחק הנוכחי
- **bot_nicknames**: 800+ שמות בוטים
- **admins**: מנהלי מערכת

### שירותי אחסון
- **Cloudflare D1**: בסיס נתונים ראשי (SQLite מבוזר)
- **Local D1**: פיתוח מקומי עם `--local` flag
- **WebSocket**: תקשורת בזמן אמת

### זרימת נתונים
1. הרשמה → אישור מנהל → כניסה למשחק
2. יצירת/הצטרפות לחדר → המתנה לשחקנים → התחלת משחק
3. תורות שחקנים → מהלכי בוטים → סיום משחק → חלוקת נקודות

## מדריך משתמש
### הרשמה והתחברות
1. **הרשמה חדשה**:
   - שם משתמש ייחודי
   - מספר טלפון ישראלי (05xxxxxxxx)
   - סיסמה (4 תווים לפחות)
   - נקודות התחלה (100-1000)
   - המתנה לאישור מנהל

2. **התחברות**:
   - שם משתמש וסיסמה
   - רק משתמשים מאושרים יכולים להיכנס

### בחירת משחק
- **רמי 31**: המשחק הקלאסי - צריך להוציא 30+ נקודות ראשונות
- **רמי אנט**: משחק מהיר - 15 קלפים, רצף אחד נדרש
- **רמי 51**: בקרוב

### יצירת והצטרפות לחדרים
1. **חדר פרטי**: מפתח של 6 תווים לשיתוף
2. **חדר ציבורי**: מוצג ברשימה לכל השחקנים
3. **הגדרות חדר**:
   - נקודות כניסה (50-1000)
   - מספר שחקנים (2-4)
   - פרטי/ציבורי

### מהלך המשחק
1. **המתנה לשחקנים**: בוטים מצטרפים אוטומטית לחדרים ציבוריים
2. **חלוקת קלפים**: קלפים ראשוניים על פי סוג המשחק
3. **תורות**:
   - משיכת קלף מהערימה
   - הנחת סטים (רצפים/קבוצות)
   - הוספה לסטים קיימים
   - השלכת קלף
4. **ניצחון**: סיום כל הקלפים לפי החוקים
5. **ניקוד**: הזוכה מקבל נקודות המפסידים (מינוס 5%)

### פונקציות נוספות
- **מיון קלפים**: לפי רצפים או קבוצות
- **גרירה ושחרור**: מהלכי drag & drop
- **תמיכה בטאץ'**: מותאם לנייד
- **שמירת מצב**: כל המהלכים נשמרים בזמן אמת

## פאנל ניהול
### כניסה למנהל
- אימייל: admin@rummikub.com
- סיסמה: admin123

### תכונות ניהול
1. **אישור משתמשים**: אישור/ביטול משתמשים חדשים
2. **ניהול נקודות**: הוספה/הפחתה/הגדרת נקודות
3. **סטטיסטיקות**: משתמשים, משחקים פעילים, פעילות
4. **מעקב פעילות**: רשימת משחקים ומצבים

## מידע טכנולוגי
### Stack טכנולוגי
- **Backend**: Hono + TypeScript + Cloudflare Workers
- **Frontend**: React + Tailwind CSS + Babel
- **Database**: Cloudflare D1 (SQLite)
- **Real-time**: WebSocket + PM2
- **Authentication**: JWT + BCrypt
- **Build**: Vite + Wrangler

### דרישות מערכת
- דפדפן מודרני עם תמיכה ב-WebSocket
- מסך עם אוריינטציה אופקית (מומלץ)
- רזולוציה מינימלית: 480x320
- חיבור אינטרנט יציב

### Performance
- זמן טעינה: <2 שניות
- זמן תגובה API: <100ms
- עדכונים בזמן אמת: <50ms
- תמיכה בעד 1000 משתמשים בו זמנית

## פריסה והפעלה
### פלטפורמה
- **סביבת פיתוח**: PM2 + Wrangler Dev Server
- **פרודקשן**: Cloudflare Pages (לאחר הגדרת API keys)
- **מצב**: ✅ פעיל במצב פיתוח מקומי

### Tech Stack Details
- **Hono Framework**: Web framework מהיר לCloudflare Workers
- **Cloudflare D1**: בסיס נתונים SQLite מבוזר עם סנכרון גלובלי
- **WebSocket Real-time**: תקשורת בזמן אמת למולטיפלייר
- **מותאם לנייד**: Mobile-first design עם landscape orientation

### עדכון אחרון
תאריך: 19/08/2025
גרסה: 1.0.0

## תכונות שהושלמו ✅
- [x] מערכת הרשמה והתחברות מלאה
- [x] אישור משתמשים על ידי מנהל
- [x] בחירת סוג משחק (רמי 31, רמי אנט)
- [x] יצירת והצטרפות לחדרים פרטיים וציבוריים
- [x] מערכת המתנה לשחקנים עם בוטים אוטומטיים
- [x] לוח משחק עם drag & drop מלא
- [x] חוקי רמיקוב מלאים (רצפים, קבוצות, jokers)
- [x] מולטיפלייר בזמן אמת עם WebSocket
- [x] בוטים חכמים עם 800+ שמות
- [x] מיון קלפים אוטומטי
- [x] תמיכה ב-RTL עברית
- [x] פאנל ניהול מלא
- [x] עיצוב mobile-first עם אוריינטציה אופקית

## תכונות לפיתוח עתידי 🚧
- [ ] רמי 51 (מתוכנן)
- [ ] טורנירים מתוזמנים
- [ ] דירוגים ושיא הישגים
- [ ] התראות WhatsApp אמיתיות
- [ ] עמלות מערכת משתנות
- [ ] חדרים VIP עם הימורים גבוהים
- [ ] אנימציות מתקדמות
- [ ] מוזיקה ואפקטים קוליים

## הצעות לפיתוח נוסף
1. **מערכת דירוגים**: טבלאות מובילים והישגים
2. **טורנירים**: משחקי אליפות מתוזמנים
3. **מטבע וירטואלי**: מערכת קנייה של נקודות
4. **פריטי קוסמטיקה**: עיצובי קלפים ורקעים
5. **מצב אימון**: משחק נגד בוטים בלבד
6. **סטטיסטיקות מתקדמות**: מעקב אחר ביצועים
7. **מצב spectator**: צפייה במשחקים
8. **משחק מהיר**: חדרים עם כללים מהירים

## בעיות ידועות ופתרונות
### WebSocket Connection
- **בעיה**: חיבור WebSocket עלול להתנתק
- **פתרון**: מנגנון reconnection אוטומטי מובנה

### Mobile Performance
- **בעיה**: ביצועים איטיים על מכשירים ישנים
- **פתרון**: אופטימיזציה של אנימציות וCSS

### Database Sync
- **בעיה**: סנכרון נתונים במצב מקומי
- **פתרון**: שימוש ב`--local` flag לפיתוח

### Contact & Support
לשאלות טכניות או תמיכה, פנה למפתח הראשי של הפרויקט.